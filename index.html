<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PGç”µå­è¯•ç©ä¸­å¿ƒ</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-blue: #4A90E2;
            --primary-purple: #7B68EE;
            --accent-gold: #FFD700;
            --accent-orange: #FF6B35;
            --bg-color: #F5F7FA;
            --card-bg: #FFFFFF;
            --text-primary: #1A1A2E;
            --text-secondary: #6B7280;
            --border-radius: 16px;
            --shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: var(--text-primary);
        }

        .app-container {
            max-width: 480px;
            margin: 0 auto;
            min-height: 100vh;
            background: var(--bg-color);
            position: relative;
        }

        /* é¡¶éƒ¨æ ‡é¢˜æ  */
        .header {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-purple) 100%);
            color: white;
            padding: 16px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header-title {
            font-size: 18px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .header-actions {
            display: flex;
            gap: 16px;
        }

        .header-btn {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            padding: 4px;
            opacity: 0.9;
            transition: opacity 0.2s;
        }

        .header-btn:hover {
            opacity: 1;
        }

        /* ä¸»å†…å®¹åŒº */
        .main-content {
            padding: 20px;
        }

        /* æ¬¢è¿å¡ç‰‡ */
        .welcome-card {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-purple) 100%);
            border-radius: var(--border-radius);
            padding: 28px 24px;
            color: white;
            text-align: center;
            margin-bottom: 24px;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .welcome-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .pixel-logo {
            font-size: 32px;
            font-weight: 900;
            letter-spacing: 4px;
            margin-bottom: 8px;
            text-shadow: 3px 3px 0 rgba(0,0,0,0.2);
            font-family: 'Courier New', monospace;
        }

        .welcome-subtitle {
            font-size: 12px;
            opacity: 0.9;
            letter-spacing: 2px;
            margin-bottom: 20px;
        }

        .welcome-text {
            font-size: 16px;
            margin-bottom: 24px;
            opacity: 0.95;
        }

        .username {
            font-weight: 700;
            color: var(--accent-gold);
        }

        .play-btn {
            background: linear-gradient(135deg, var(--accent-orange) 0%, #FF8C42 100%);
            color: white;
            border: none;
            padding: 16px 48px;
            border-radius: 30px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(255,107,53,0.4);
            transition: all 0.3s;
            position: relative;
            z-index: 1;
        }

        .play-btn:active {
            transform: scale(0.95);
            box-shadow: 0 2px 10px rgba(255,107,53,0.3);
        }

        /* åŠŸèƒ½å¡ç‰‡ */
        .feature-section {
            margin-bottom: 24px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-title .highlight {
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .feature-grid {
            display: grid;
            gap: 16px;
        }

        .feature-card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 16px;
            box-shadow: var(--shadow);
            transition: transform 0.2s;
        }

        .feature-card:active {
            transform: scale(0.98);
        }

        .feature-icon {
            width: 60px;
            height: 60px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            flex-shrink: 0;
        }

        .feature-icon.blue {
            background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%);
        }

        .feature-icon.gold {
            background: linear-gradient(135deg, #FFF8E1 0%, #FFECB3 100%);
        }

        .feature-icon.purple {
            background: linear-gradient(135deg, #F3E5F5 0%, #E1BEE7 100%);
        }

        .feature-icon.green {
            background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%);
        }

        .feature-content {
            flex: 1;
        }

        .feature-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 6px;
            color: var(--text-primary);
        }

        .feature-desc {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .feature-tag {
            display: inline-block;
            background: linear-gradient(135deg, var(--accent-gold), #FFC107);
            color: #333;
            font-size: 11px;
            font-weight: 700;
            padding: 4px 10px;
            border-radius: 12px;
            margin-top: 8px;
        }

        /* æ¸¸æˆå±•ç¤º */
        .games-section {
            margin-bottom: 24px;
        }

        .games-scroll {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            padding: 4px;
            scrollbar-width: none;
        }

        .games-scroll::-webkit-scrollbar {
            display: none;
        }

        .game-card {
            min-width: 140px;
            background: var(--card-bg);
            border-radius: 16px;
            padding: 16px;
            text-align: center;
            box-shadow: var(--shadow);
        }

        .game-icon {
            width: 80px;
            height: 80px;
            border-radius: 20px;
            margin: 0 auto 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .game-name {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .game-status {
            font-size: 12px;
            color: #4CAF50;
            font-weight: 500;
        }

        /* åº•éƒ¨ä¿¡æ¯ */
        .footer {
            background: var(--card-bg);
            border-radius: var(--border-radius) var(--border-radius) 0 0;
            padding: 24px 20px;
            margin-top: 20px;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.05);
        }

        .partners {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 16px;
            flex-wrap: wrap;
        }

        .partner-logo {
            font-size: 12px;
            font-weight: 700;
            color: var(--text-secondary);
            padding: 8px 16px;
            background: var(--bg-color);
            border-radius: 20px;
        }

        .copyright {
            text-align: center;
            font-size: 11px;
            color: var(--text-secondary);
        }

        .bot-tag {
            text-align: center;
            font-size: 12px;
            color: var(--primary-blue);
            margin-top: 8px;
            font-weight: 600;
        }

        /* å¼¹çª— */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.6);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: var(--border-radius);
            padding: 28px;
            max-width: 360px;
            width: 100%;
            text-align: center;
            animation: modalIn 0.3s;
        }

        @keyframes modalIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .modal-icon {
            font-size: 64px;
            margin-bottom: 16px;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .modal-text {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 24px;
            line-height: 1.6;
        }

        .modal-btn {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-purple) 100%);
            color: white;
            border: none;
            padding: 14px 32px;
            border-radius: 24px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- é¡¶éƒ¨æ ‡é¢˜æ  -->
        <div class="header">
            <div class="header-title">ğŸ® PGç”µå­è¯•ç©ä¸­å¿ƒ</div>
            <div class="header-actions">
                <button class="header-btn" onclick="showMenu()">â‹®</button>
                <button class="header-btn" onclick="closeApp()">âœ•</button>
            </div>
        </div>

        <!-- ä¸»å†…å®¹ -->
        <div class="main-content">
            <!-- æ¬¢è¿å¡ç‰‡ -->
            <div class="welcome-card">
                <div class="pixel-logo">PG SOFT</div>
                <div class="welcome-subtitle">POCKET GAMES SOFT</div>
                <div class="welcome-text">
                    æ¬¢è¿ï¼Œ<span class="username" id="username">ç©å®¶</span>
                </div>
                <button class="play-btn" onclick="startGame()">ğŸš€ ç«‹å³è¯•ç©</button>
            </div>

            <!-- åŠŸèƒ½ç‰¹è‰² -->
            <div class="feature-section">
                <div class="section-title">
                    <span>âœ¨</span>
                    <span><span class="highlight">PGç”µå­</span>æ¸¸æˆç‰¹è‰²</span>
                </div>
                <div class="feature-grid">
                    <div class="feature-card" onclick="showFeature('simulator')">
                        <div class="feature-icon blue">ğŸ°</div>
                        <div class="feature-content">
                            <div class="feature-title">PG SOFT è¯•ç©æ¨¡æ‹Ÿå™¨</div>
                            <div class="feature-desc">é›¶é—¨æ§›ç•…ç©ä½“éªŒï¼Œæ— éœ€æ³¨å†Œå³ç‚¹å³ç©</div>
                            <span class="feature-tag">Tournament</span>
                        </div>
                    </div>

                    <div class="feature-card" onclick="showFeature('games')">
                        <div class="feature-icon gold">ğŸ†</div>
                        <div class="feature-content">
                            <div class="feature-title">å¤šæ¬¾çˆ†æ¬¾æ¸¸æˆ</div>
                            <div class="feature-desc">é›†ä¸­å‘ˆç°çƒ­é—¨æ¸¸æˆï¼Œå¿«é€Ÿè¯•ç©çƒ­é—¨å†…å®¹</div>
                            <span class="feature-tag">Smartbot</span>
                        </div>
                    </div>

                    <div class="feature-card" onclick="showFeature('cross')">
                        <div class="feature-icon purple">ğŸ“±</div>
                        <div class="feature-content">
                            <div class="feature-title">å¤šç«¯æ— ç¼ä½“éªŒ</div>
                            <div class="feature-desc">æ”¯æŒiOSã€Androidå’ŒHTML5ï¼Œéšæ—¶éšåœ°ç•…ç©</div>
                            <span class="feature-tag">Free Game</span>
                        </div>
                    </div>

                    <div class="feature-card" onclick="showFeature('social')">
                        <div class="feature-icon green">ğŸ¤–</div>
                        <div class="feature-content">
                            <div class="feature-title">æ™ºèƒ½æ¸¸æˆä½“éªŒ</div>
                            <div class="feature-desc">æ²‰æµ¸å¼æ¸¸æˆä½“éªŒï¼Œæ™ºèƒ½è¾…åŠ©åŠŸèƒ½åŠ æŒ</div>
                            <span class="feature-tag">AI Powered</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- çƒ­é—¨æ¸¸æˆ -->
            <div class="games-section">
                <div class="section-title">
                    <span>ğŸ”¥</span>
                    <span>çƒ­é—¨è¯•ç©</span>
                </div>
                <div class="games-scroll">
                    <div class="game-card" onclick="launchGame('mahjong')">
                        <div class="game-icon">ğŸ€„</div>
                        <div class="game-name">éº»å°†èƒ¡äº†</div>
                        <div class="game-status">â— åœ¨çº¿å¯ç©</div>
                    </div>
                    <div class="game-card" onclick="launchGame('lucky')">
                        <div class="game-icon">ğŸ€</div>
                        <div class="game-name">å¹¸è¿æ‹›è´¢</div>
                        <div class="game-status">â— åœ¨çº¿å¯ç©</div>
                    </div>
                    <div class="game-card" onclick="launchGame('treasure')">
                        <div class="game-icon">ğŸ’</div>
                        <div class="game-name">å¯»å®å¥‡å…µ</div>
                        <div class="game-status">â— åœ¨çº¿å¯ç©</div>
                    </div>
                    <div class="game-card" onclick="launchGame('fortune')">
                        <div class="game-icon">ğŸ§§</div>
                        <div class="game-name">ç¦è¿è¿è¿</div>
                        <div class="game-status">â— åœ¨çº¿å¯ç©</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- åº•éƒ¨ä¿¡æ¯ -->
        <div class="footer">
            <div class="partners">
                <span class="partner-logo">PG Soft</span>
                <span class="partner-logo">JDB</span>
                <span class="partner-logo">CQ9</span>
                <span class="partner-logo">JILI</span>
            </div>
            <div class="copyright">
                COPYRIGHT Â© 2025 PG Soft RESERVED
            </div>
            <div class="bot-tag">@pgswmini_bot</div>
        </div>
    </div>

    <!-- å¼¹çª— -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <div class="modal-icon" id="modalIcon">ğŸ®</div>
            <div class="modal-title" id="modalTitle">æç¤º</div>
            <div class="modal-text" id="modalText">åŠŸèƒ½å³å°†ä¸Šçº¿ï¼Œæ•¬è¯·æœŸå¾…ï¼</div>
            <button class="modal-btn" onclick="closeModal()">çŸ¥é“äº†</button>
        </div>
    </div>

    <script>
        // åˆå§‹åŒ– Telegram Web App
        let tg = window.Telegram.WebApp;

        document.addEventListener('DOMContentLoaded', function() {
            tg.ready();
            tg.expand();

            // è®¾ç½®ä¸»é¢˜é¢œè‰²
            tg.setHeaderColor('#4A90E2');

            // æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯
            const user = tg.initDataUnsafe?.user;
            if (user) {
                document.getElementById('username').textContent = user.first_name || user.username || 'ç©å®¶';
            }

            // è§¦è§‰åé¦ˆ
            if (tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('light');
            }
        });

        // å¼€å§‹æ¸¸æˆ
        function startGame() {
            if (tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('medium');
            }
            
            showModal('ğŸ°', 'å‡†å¤‡å¼€å§‹', 'æ­£åœ¨ä¸ºæ‚¨åŠ è½½è¯•ç©æ¸¸æˆ...');
            
            // å‘é€æ•°æ®ç»™ Bot
            tg.sendData(JSON.stringify({
                action: 'start_game',
                timestamp: new Date().toISOString()
            }));
        }

        // å¯åŠ¨å…·ä½“æ¸¸æˆ
        function launchGame(gameId) {
            if (tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('light');
            }

            const games = {
                'mahjong': { name: 'éº»å°†èƒ¡äº†', icon: 'ğŸ€„' },
                'lucky': { name: 'å¹¸è¿æ‹›è´¢', icon: 'ğŸ€' },
                'treasure': { name: 'å¯»å®å¥‡å…µ', icon: 'ğŸ’' },
                'fortune': { name: 'ç¦è¿è¿è¿', icon: 'ğŸ§§' }
            };

            const game = games[gameId];
            showModal(game.icon, game.name, `æ­£åœ¨å¯åŠ¨ ${game.name}ï¼Œè¯·ç¨å€™...`);

            tg.sendData(JSON.stringify({
                action: 'launch_game',
                game: gameId,
                game_name: game.name
            }));
        }

        // æ˜¾ç¤ºåŠŸèƒ½è¯¦æƒ…
        function showFeature(feature) {
            if (tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('light');
            }

            const features = {
                'simulator': { icon: 'ğŸ°', title: 'PG SOFT è¯•ç©æ¨¡æ‹Ÿå™¨', desc: 'æä¾›æœ€çœŸå®çš„PGç”µå­è¯•ç©ä½“éªŒï¼Œé›¶é—¨æ§›ç•…ç©ï¼Œæ— éœ€æ³¨å†Œï¼Œå³ç‚¹å³ç©ï¼' },
                'games': { icon: 'ğŸ†', title: 'å¤šæ¬¾çˆ†æ¬¾æ¸¸æˆ', desc: 'é›†ä¸­å‘ˆç°çƒ­é—¨æ¸¸æˆï¼Œå¿«é€Ÿè¯•ç©çƒ­é—¨å†…å®¹ï¼Œæå‡æ¸¸æˆè®¤çŸ¥ã€‚' },
                'cross': { icon: 'ğŸ“±', title: 'å¤šç«¯æ— ç¼ä½“éªŒ', desc: 'æ”¯æŒiOSã€Androidå’ŒHTML5ï¼Œæ‰‹æœºPCéƒ½èƒ½ç©ï¼Œéšæ—¶éšåœ°ç•…ç©ã€‚' },
                'social': { icon: 'ğŸ¤–', title: 'æ™ºèƒ½æ¸¸æˆä½“éªŒ', desc: 'æ²‰æµ¸å¼æ¸¸æˆä½“éªŒï¼Œæ™ºèƒ½è¾…åŠ©åŠŸèƒ½åŠ æŒï¼Œè®©æ¸¸æˆæ›´æœ‰è¶£ã€‚' }
            };

            const f = features[feature];
            showModal(f.icon, f.title, f.desc);
        }

        // æ˜¾ç¤ºèœå•
        function showMenu() {
            tg.showPopup({
                title: 'èœå•',
                message: 'é€‰æ‹©æ“ä½œ',
                buttons: [
                    { id: 'profile', text: 'ä¸ªäººä¸­å¿ƒ' },
                    { id: 'settings', text: 'è®¾ç½®' },
                    { id: 'help', text: 'å¸®åŠ©' },
                    { id: 'cancel', text: 'å–æ¶ˆ', type: 'cancel' }
                ]
            }, function(buttonId) {
                if (buttonId && buttonId !== 'cancel') {
                    showModal('ğŸ“‹', 'åŠŸèƒ½æç¤º', 'è¯¥åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…ï¼');
                }
            });
        }

        // æ˜¾ç¤ºå¼¹çª—
        function showModal(icon, title, text) {
            document.getElementById('modalIcon').textContent = icon;
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalText').textContent = text;
            document.getElementById('modal').classList.add('show');
        }

        // å…³é—­å¼¹çª—
        function closeModal() {
            document.getElementById('modal').classList.remove('show');
        }

        // å…³é—­åº”ç”¨
        function closeApp() {
            tg.close();
        }

        // ç‚¹å‡»é®ç½©å…³é—­å¼¹çª—
        document.getElementById('modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
    </script>
</body>
</html>
